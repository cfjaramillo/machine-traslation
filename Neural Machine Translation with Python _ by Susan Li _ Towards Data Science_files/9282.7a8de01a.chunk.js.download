(self.webpackChunklite=self.webpackChunklite||[]).push([[9282],{80087:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M3.85 5.15a.5.5 0 0 0-.7.7l4.35 4.36 4.35-4.36a.5.5 0 1 0-.7-.7L7.5 8.79 3.85 5.15z",fillRule:"evenodd"});const l=function(e){return r.createElement("svg",a({width:15,height:15,viewBox:"0 0 15 15"},e),i)}},42533:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M15 18.5a3 3 0 1 1-6 0",stroke:"currentColor",strokeLinecap:"round"}),l=r.createElement("path",{d:"M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z",stroke:"currentColor",strokeLinejoin:"round"});const o=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i,l)}},56653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M15 18.5a3 3 0 1 1-6 0",stroke:"currentColor",strokeLinecap:"round"}),l=r.createElement("path",{d:"M5.5 10.53V9a6.5 6.5 0 0 1 13 0v1.53c0 1.42.56 2.78 1.57 3.79l.03.03c.26.26.4.6.4.97v2.93c0 .14-.11.25-.25.25H3.75a.25.25 0 0 1-.25-.25v-2.93c0-.37.14-.71.4-.97l.03-.03c1-1 1.57-2.37 1.57-3.79z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"});const o=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i,l)}},72602:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z",stroke:"currentColor",strokeLinecap:"round"}),l=r.createElement("path",{d:"M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5",stroke:"currentColor",strokeLinecap:"round"});const o=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i,l)}},45550:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M4.5 6.25V21c0 .2.24.32.4.2l5.45-4.09a.25.25 0 0 1 .3 0l5.45 4.09c.16.12.4 0 .4-.2V6.25a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25z",fill:"currentColor",stroke:"currentColor",strokeLinecap:"round"}),l=r.createElement("path",{d:"M8 6V3.25c0-.14.11-.25.25-.25h11.5c.14 0 .25.11.25.25V16.5",stroke:"currentColor",strokeLinecap:"round"});const o=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i,l)}},85786:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M2.75 19h4.5c.14 0 .25-.11.25-.25v-6.5a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25v6.5c0 .14.11.25.25.25zM9.75 19h4.5c.14 0 .25-.11.25-.25V8.25a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25v10.5c0 .14.11.25.25.25zM16.75 19h4.5c.14 0 .25-.11.25-.25V4.25a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25v14.5c0 .14.11.25.25.25z",stroke:"currentColor"});const l=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i)}},84219:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M2.75 19h4.5c.14 0 .25-.11.25-.25v-6.5a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25v6.5c0 .14.11.25.25.25zM9.75 19h4.5c.14 0 .25-.11.25-.25V8.25a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25v10.5c0 .14.11.25.25.25zM16.75 19h4.5c.14 0 .25-.11.25-.25V4.25a.25.25 0 0 0-.25-.25h-4.5a.25.25 0 0 0-.25.25v14.5c0 .14.11.25.25.25z",fill:"currentColor",stroke:"currentColor"});const l=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i)}},39283:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M4.75 21.5h14.5c.14 0 .25-.11.25-.25V2.75a.25.25 0 0 0-.25-.25H4.75a.25.25 0 0 0-.25.25v18.5c0 .14.11.25.25.25z",stroke:"currentColor"}),l=r.createElement("path",{d:"M8 8.5h8M8 15.5h5M8 12h8",stroke:"currentColor",strokeLinecap:"round"});const o=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i,l)}},66904:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 2.75c0-.41.34-.75.75-.75h14.5c.41 0 .75.34.75.75v18.5c0 .41-.34.75-.75.75H4.75a.75.75 0 0 1-.75-.75V2.75zM7 8.5c0-.28.22-.5.5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0 7c0-.28.22-.5.5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zM7 12c0-.28.22-.5.5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 7 12z",fill:"currentColor"});const l=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i)}},42409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i=r.createElement("path",{d:"M14 4a.5.5 0 0 0 0-1v1zm7 6a.5.5 0 0 0-1 0h1zm-7-7H4v1h10V3zM3 4v16h1V4H3zm1 17h16v-1H4v1zm17-1V10h-1v10h1zm-1 1a1 1 0 0 0 1-1h-1v1zM3 20a1 1 0 0 0 1 1v-1H3zM4 3a1 1 0 0 0-1 1h1V3z",fill:"currentColor"}),l=r.createElement("path",{d:"M17.5 4.5l-8.46 8.46a.25.25 0 0 0-.06.1l-.82 2.47c-.07.2.12.38.31.31l2.47-.82a.25.25 0 0 0 .1-.06L19.5 6.5m-2-2l2.32-2.32c.1-.1.26-.1.36 0l1.64 1.64c.1.1.1.26 0 .36L19.5 6.5m-2-2l2 2",stroke:"currentColor"});const o=function(e){return r.createElement("svg",a({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),i,l)}},43571:(e,t,n)=>{"use strict";n.d(t,{X:()=>l});var r=n(319),a=n.n(r),i=n(68216),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionMenuItem_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat(a()(i.nf.definitions))}},30210:(e,t,n)=>{"use strict";n.d(t,{V:()=>u,C:()=>s});var r=n(63038),a=n.n(r),i=n(67294),l=n(68356),o=n.n(l),c=n(50742),u=o()({loading:function(){return null},loader:function(){return Promise.all([n.e(1334),n.e(1122),n.e(2459),n.e(4611),n.e(3343)]).then(n.bind(n,88009))},modules:["./GiftMembershipModal"],webpack:function(){return[88009]},render:(0,c.n)("GiftMembershipModal")});function s(e){var t=e.launchpadMenuVisible,n=i.useState(!1),r=a()(n,2),l=r[0],o=r[1];return i.useEffect((function(){t&&!l&&(u.preload(),o(!0))}),[t,l]),{preloaded:l}}},38194:(e,t,n)=>{"use strict";n.d(t,{m:()=>i,M:()=>l});var r=n(67294),a=n(5977);function i(e,t){var n=(0,a.TH)();r.useEffect((function(){n.hash===e&&t()}),[n,t,e])}function l(e){return{setHash:r.useCallback((function(){window.location.hash=e}),[e]),removeHash:r.useCallback((function(){window.history.replaceState(null,""," ")}),[])}}},52439:(e,t,n)=>{"use strict";n.d(t,{q:()=>p});var r,a=n(67294),i=n(77355),l=n(93310),o=n(87691),c=n(18627),u=n(43487),s=n(50458);!function(e){e[e.Homepage=0]="Homepage",e[e.Topics=1]="Topics",e[e.Profile=2]="Profile"}(r||(r={}));var d={XS:"6px",S:"8px",M:"26px"},m={XS:void 0,S:"4px",M:"8px"},p=function(e){var t=e.sidebar,n=void 0===t?r.Homepage:t,p=e.padding,f=void 0===p?"24px 0":p,v=e.spacing,h=void 0===v?"M":v,g=e.detailScale,k=void 0===g?"M":g,E=e.backgroundColor,y=(0,c.Av)(),b=(0,u.v9)((function(e){return e.config.authDomain})),x=(0,u.v9)((function(e){return e.config.productName}));return a.createElement(i.x,{padding:f,display:"flex",flexDirection:"row",flexWrap:"wrap",backgroundColor:E},function(e){switch(e){case r.Profile:return["Help","PartnerProgram","Gifting","Careers","Privacy","Terms","StartABlog","Knowable"];default:return["Help","Status","Writers","Blog","Careers","Privacy","Terms","About","Knowable"]}}(n).map((function(e){var t=function(e,t,n){switch(e){case"Help":return{name:"Help",href:(0,s.XpN)(),onClickEventName:null};case"Status":return{name:"Status",href:(0,s.PUj)(),onClickEventName:null};case"Writers":return{name:"Writers",href:(0,s.GMb)(t,n),onClickEventName:"homepage.footer.creatorsClicked"};case"Blog":return{name:"Blog",href:(0,s.OVp)(t),onClickEventName:null};case"Careers":return{name:"Careers",href:(0,s.jZp)(),onClickEventName:null};case"Privacy":return{name:"Privacy",href:(0,s.wob)(),onClickEventName:null};case"Terms":return{name:"Terms",href:(0,s.oHy)(),onClickEventName:null};case"About":return{name:"About",href:(0,s.jQk)({authDomain:t}),onClickEventName:"homepage.footer.aboutClicked"};case"Knowable":return{name:"Knowable",href:"https://knowable.fyi",onClickEventName:null};case"PartnerProgram":return{name:"Partner Program",href:(0,s.GMb)(t,n),onClickEventName:null};case"Gifting":return{name:"Gifting",href:(0,s.Ekm)(t),onClickEventName:null};case"StartABlog":return{name:"Start a blog",href:(0,s.OVp)(t),onClickEventName:null};default:return null}}(e,b,x);return t&&a.createElement(i.x,{key:"rc-footer-link-".concat(t.name),marginRight:d[h],marginBottom:m[h]},a.createElement(l.r,{href:t.href,onClick:function(){null!=t&&t.onClickEventName&&y.event(t.onClickEventName,{})}},a.createElement(o.F,{scale:k,color:"LIGHTER"},t.name)))})))}},10974:(e,t,n)=>{"use strict";n.d(t,{N:()=>p});var r=n(67294),a=n(6443),i=n(77355),l=n(47230),o=n(21755),c=n(18627),u=n(66411),s=n(90924),d=n(92661),m=n(17583),p=function(e){var t,n=e.size,p=e.forceDesktop,f=(0,a.H)(),v=f.value,h=f.loading,g=(0,c.Av)(),k=(0,u.Lk)(),E=function(){g.event("upsell.clicked",{dimension:null==k?void 0:k.dimension,locationId:null==k?void 0:k.dimension})},y=(0,d.qt)("ShowPay",{}),b=(0,m.s)(),x=p||b!==o.j.xs;return v||h?null!=v&&v.mediumMemberAt?null:r.createElement(i.x,{textAlign:"center"},r.createElement(u.cW,{extendSource:!0,source:{name:"upgrade_membership",dimension:null!==(t=null==k?void 0:k.dimension)&&void 0!==t?t:"nav_full"}},r.createElement(s.M,null,!x||null!=v&&v.hasPastMemberships?r.createElement(l.z,{href:y,buttonStyle:"BRAND",loading:h,width:"100%",onClick:E,size:n},null!=v&&v.hasPastMemberships?"Resume Membership":"Upgrade"):r.createElement(l.z,{href:y,buttonStyle:"BRAND",loading:h,width:"100%",onClick:E,size:n},"Get unlimited access")))):null}},79263:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(319),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchInline_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useAlgoliaSearch_publisher"}}]}}].concat(n.n(r)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"useAlgoliaSearch_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]))}},75374:(e,t,n)=>{"use strict";n.d(t,{f:()=>K,N:()=>Y});var r=n(63038),a=n.n(r),i=n(67294),l=n(5977),o=n(38352),c=n(77355),u=n(8431),s=function(e){var t=e.title;return i.createElement(c.x,{width:"100%",padding:"0 20px"},i.createElement(c.x,{display:"flex",justifyContent:"space-between",marginBottom:"8px"},i.createElement(u.Lh,null,t)),i.createElement(o.oK,{paddingTopBottom:"0"}))},d=n(35473),m=n(14818),p=n(93310),f=n(87691),v=n(18627),h=n(14646),g=n(78249),k=n(87498),E=n(26679),y={display:"block",textAlign:"left",width:"252px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},b={fill:"rgba(0, 0, 0, 0.54)",display:"block",marginLeft:"5px",marginRight:"6px"},x=function(e){var t=e.type,n=e.name,r=e.url,a=e.imageId,l=e.query,o=e.queryId,u=e.index,s=e.itemId,x=e.algoliaIndexName,S=e.isFocus,w=e.isLastItem,C=e.description,N=(0,v.Av)(),I=(0,h.I)(),O=(0,E.Ir)({queryId:o,indexName:x}),P=i.useRef(null),T=i.useCallback((function(e){N.event("search.predictiveResultClicked",{type:t.toLowerCase(),query:l,path:e.currentTarget.href,rank:0,total:0}),O(s,u)}),[l,t,O,s,u]),D=i.useMemo((function(){return"TAG"===t?i.createElement("div",{className:I(b)},i.createElement(g.Z,null)):"COLLECTION"===t?i.createElement(m.z,{miroId:a||"",freezeGifs:!1,alt:n||"Publication avatar",diameter:24}):"USER"===t?i.createElement(m.z,{miroId:a||k.gG,alt:n||"",diameter:24,freezeGifs:!1}):i.createElement(i.Fragment,null)}),[n,a]),M=i.useMemo((function(){return i.createElement(f.F,{color:"DARKER",scale:"M"},i.createElement("span",{className:I(y)},n))}),[n]);return i.useEffect((function(){S&&P.current&&P.current.focus()}),[S,P.current]),i.createElement(c.x,{display:"flex",tag:"li",paddingLeft:"20px",paddingRight:"12px",marginBottom:w?void 0:"12px"},i.createElement(p.r,{ref:P,tabIndex:-1,linkStyle:"SUBTLE",href:r,onClick:T},i.createElement(d.Y,{avatar:D,title:M,description:C&&i.createElement(c.x,{tag:"span",textAlign:"left"},C),clampDescription:1})))},S=n(60671),w=n(75221),C=n(50458),N=n(63459),I={width:"252px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},O=function(e){var t=e.post,n=e.queryId,r=e.index,a=e.isEntityRouter,l=e.isFocus,o=(0,h.I)(),u=i.useRef(null),s=(0,C.jVf)({id:t.postId},a),d=(0,E.Ir)({queryId:n,indexName:w.uw.POST}),m=i.useCallback((function(){d(t.objectID,r)}),[d,r,t.objectID]);return i.useEffect((function(){l&&u.current&&u.current.focus()}),[l,u.current]),i.createElement(c.x,{display:"flex",tag:"li",paddingLeft:"20px",paddingRight:"12px"},i.createElement(c.x,{marginBottom:"16px"},i.createElement(p.r,{ref:u,onClick:m,tabIndex:-1,linkStyle:"SUBTLE",href:s},i.createElement(f.F,{scale:"S",color:"DARKER"},i.createElement("div",{className:o(I)},t.title)),i.createElement(f.F,{scale:"S"},i.createElement(N.E,{timestamp:t.latestPublishedAt})))))};function P(e){var t=e.data,n=e.refIndex,r=e.isLastPopover,a=e.query,l=t.collections;return i.createElement(i.Fragment,null,i.createElement(s,{title:"Publications"}),i.createElement(c.x,{marginTop:"12px",marginBottom:r?void 0:"15px"},l.hits.map((function(e,t){var r=e.collectionId,o=e.objectID,c=e.imageId,u=e.name;return i.createElement(x,{isFocus:n===t,key:r,algoliaIndexName:w.uw.COLLECTION,index:t,itemId:o,queryId:l.queryId,type:"COLLECTION",name:u,imageId:c,url:(0,C.RHb)(r),query:a,isLastItem:l.hits.length-1===t})}))))}function T(e){var t=e.data,n=e.authDomain,r=e.entityType,a=e.refIndex,l=e.isLastPopover,o=e.query,u=t.tags;return i.createElement(i.Fragment,null,i.createElement(s,{title:"Tags"}),i.createElement(c.x,{marginTop:"12px",marginBottom:l?void 0:"15px"},u.hits.map((function(e,t){var l=e.displayText,c=e.objectID,s=e.tagSlug;return i.createElement(x,{isFocus:a===t,key:s,type:"TAG",algoliaIndexName:w.uw.TAG,index:t,itemId:c,queryId:u.queryId,name:l,url:(0,C.HYG)(s,n,r),query:o,isLastItem:u.hits.length-1===t})}))))}function D(e){var t=e.data,n=e.authDomain,r=e.refIndex,a=e.isLastPopover,l=e.query,o=t.users;return i.createElement(i.Fragment,null,i.createElement(s,{title:"People"}),i.createElement(c.x,{marginTop:"12px",marginBottom:a?void 0:"15px"},o.hits.map((function(e,t){var a=e.imageId,c=e.objectID,u=e.name,s=e.userId,d=e.username,m=(0,C.Qyn)(d,n);return i.createElement(x,{isFocus:r===t,key:s,type:"USER",algoliaIndexName:w.uw.USER,index:t,queryId:o.queryId,itemId:c,imageId:a,name:u,url:m,query:l,isLastItem:o.hits.length-1===t})}))))}function M(e){var t=e.data,n=e.isCollection,r=e.refIndex,a=e.entityType,l=e.isLastPopover,o=e.isCatalog,u=t.posts,d="Profile";o?d="List":n&&(d="Publication");var m="From this ".concat(d);return i.createElement(i.Fragment,null,i.createElement(s,{title:m}),i.createElement(c.x,{marginTop:"12px",marginBottom:l?void 0:"15px"},u.hits.map((function(e,t){return i.createElement(O,{key:"story-item-".concat(t),post:e,index:t,queryId:u.queryId,isEntityRouter:a!==S.Cr.DEFAULT,isFocus:r===t})}))))}function A(e){var t=e.data,n=e.authDomain,r=e.query,a=e.entityType,l=e.focusIndex,u=e.isCollection,s=e.isCatalog;if(!r)return null;var d=t.collections,m=t.tags,p=t.users,f=t.posts,v=p.hits.length>0,h=d.hits.length>0,g=m.hits.length>0,k=f.hits.length>0;return v||h||g||k?i.createElement(c.x,{width:"316px"},i.createElement(o.mX,{padding:"30px"},k&&i.createElement(M,{data:t,isCollection:u,isCatalog:s,isLastPopover:!h&&!g&&!v,refIndex:l,query:r,entityType:a}),v&&i.createElement(D,{data:t,authDomain:n,refIndex:l,isLastPopover:!h&&!g,query:r}),h&&i.createElement(P,{data:t,refIndex:null!==l?l-p.hits.length:null,isLastPopover:!g,query:r}),g&&i.createElement(T,{data:t,authDomain:n,entityType:a,refIndex:null!==l?l-p.hits.length-d.hits.length:null,isLastPopover:!0,query:r}))):null}var L=n(25735),j=n(73917),F=n(31889),R=n(43487),H=n(21638),V=n(13241),_=n(27460),B=n(71341),z=n(68894),q=n(42140),U=function(e){return function(t){return{display:"flex",border:"1px solid ".concat(t.baseColor.border.lighter),borderRadius:"20px",width:e?"100%":"inherit"}}},G=function(e){return{boxShadow:"0px 2px 10px 0px #00000026",border:"1px solid ".concat(e.baseColor.background.normal)}},Q=function(e){return{":after":{boxShadow:"-1px -1px 1px -1px #00000026",border:"1px solid ".concat(e.baseColor.background.normal)}}},Z=function(e){return{border:"none",outline:"none",fontFamily:H.k2,fontSize:"14px",lineHeight:"20px",width:"100%",padding:"10px 20px 10px 0",backgroundColor:"transparent",color:e.baseColor.text.normal,"::placeholder":{color:e.baseColor.text.lighter}}},W="searchResults";function Y(e){var t=e.searchPlaceholder,n=e.isPopoverVisible,r=e.onQueryChange,o=e.entityType,u=e.authDomain,s=e.children,d=e.onKeyDown,m=e.watchQueryUrl,p=e.fullWidth,f=e.collectionSlug,v=e.mainSearchCategory,g=e.searchIcon,k=e.searchContainerRules,y=e.initializeQueryFromUrl,b=(0,h.I)(),x=(0,F.F)(),S=(0,l.TH)(),w=(0,q.dD)(S.search).q,N=i.useRef(null),I=i.useState(m||y?w:null),O=a()(I,2),P=O[0],T=O[1],D=(0,R.v9)((function(e){return e.navigation.hostname})),M=(0,C.gxh)({category:v,collectionSlug:f}),A=(0,B.h)({queryParams:{q:null!=P?P:""}}),L=i.useCallback((function(e){T(e.target.value),r(e.target.value)}),[r]),j=i.useCallback((function(e){"Enter"===e.key&&P&&(0,E._)(P),d?d(e):"Enter"===e.key?D===u?A(M):window.location.assign("https://".concat(u).concat(M,"?q=").concat(P)):"ArrowDown"===e.key&&N.current&&N.current.blur()}),[N.current,P,o,u,D,M,A,d]);return i.useEffect((function(){w&&m&&(T(w),r(w))}),[w,r,m]),i.createElement("div",{className:b([U(!!p),k])},s,g||i.createElement(c.x,{tag:"span",padding:"7px 7px 6px 8px"},i.createElement(V.Z,{fill:x.baseColor.fill.darker})),i.createElement("input",{role:"combobox","aria-controls":W,"aria-expanded":n?"true":"false","aria-label":"search",tabIndex:0,className:b(Z),placeholder:t,ref:N,value:null!=P?P:"",onChange:L,onKeyDown:j}))}function K(e){var t=e.algoliaIndexes,n=e.algoliaQueryContext,r=e.mainSearchCategory,l=e.publisher,o=e.catalogId,c=e.hitsPerPagePerIndex,u=e.searchIcon,s=e.searchContainerRules,d=e.searchPlaceholder,m=void 0===d?"Search":d,p=e.initializeQueryFromUrl,f=(0,v.Av)(),h=(0,z.O)(!1),g=a()(h,3),k=g[0],E=g[1],y=g[2],b=(0,R.v9)((function(e){return e.config.productName})),x=(0,R.v9)((function(e){return e.config.algolia})),S=(0,R.v9)((function(e){return e.config.authDomain})),w=(0,R.v9)((function(e){return e.client.routingEntity.type})),C=i.useState(null),N=a()(C,2),I=N[0],O=N[1],P=i.useState(""),T=a()(P,2),D=T[0],M=T[1],F="Collection"===(null==l?void 0:l.__typename),H="Collection"===(null==l?void 0:l.__typename)?l.slug:void 0,V=!!(0,L.VB)({name:"can_view_unfiltered_search",placeholder:!1}),B=!V,q=(0,_.xY)(n,D,t,{filterForHighQuality:B,publisher:l,catalogId:o,hitsPerPagePerIndex:c}),U=a()(q,2),Z=U[0],K=U[1],X=i.useCallback((function(e){M(e),e||y(),O(null),k||(E(),f.event("search.predictiveOpened",{})),f.event("search.predictiveQueried",{query:e})}),[V,y,E,x,D]),$=i.useCallback((function(){return i.createElement(A,{productName:b,entityType:w,authDomain:S,query:D,data:Z,focusIndex:I,isCollection:F,isCatalog:!!o})}),[b,w,S,D,Z,I,F]);return i.useEffect((function(){if(k){var e=function(e){var t="ArrowUp"===e.key,n="ArrowDown"===e.key;if(t||n){e.preventDefault();var r=K-1;if(null===I&&n)O(0);else if(null!==I){var a=(I+(n?1:-1))%K;O(a<0?r:a)}}};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[I,k,K]),i.createElement(Y,{authDomain:S,entityType:w,isPopoverVisible:K>0&&k,searchPlaceholder:m,onQueryChange:X,collectionSlug:H,mainSearchCategory:r,searchIcon:u,searchContainerRules:s,initializeQueryFromUrl:p},i.createElement(j.J,{ariaId:W,isVisible:K>0&&k,hide:y,arrowPadding:{left:32},popoverRenderFn:$,setMaxHeight:!0,popoverRules:G,arrowRules:Q,placement:"bottom-start",targetDistance:25},i.createElement(i.Fragment,null)))}},8458:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});var r=n(60671),a=n(92661),i=function(e){var t,n=(0,a.k6)();return{id:(null==n?void 0:n.type)===r.Cr.USER&&null!==(t=n.id)&&void 0!==t?t:null,username:e.username}}},89636:(e,t,n)=>{"use strict";n.d(t,{x:()=>o,v:()=>c});var r=n(63038),a=n.n(r),i=n(67294),l=(0,i.createContext)({topNavigationHeight:0,setTopNavigationHeight:function(){return null}}),o=function(e){var t=e.children,n=(0,i.useState)(0),r=a()(n,2),o=r[0],c=r[1],u=(0,i.useMemo)((function(){return{topNavigationHeight:o,setTopNavigationHeight:c}}),[o,c]);return i.createElement(l.Provider,{value:u},t)},c=function(){return(0,i.useContext)(l)}},55601:(e,t,n)=>{"use strict";n.d(t,{s:()=>I,F:()=>S});var r=n(59713),a=n.n(r),i=n(67294),l=n(5977),o=n(10974),c=n(33916),u=n(93310),s=n(14199),d=n(14646),m=n(60671),p=n(92661),f=n(43487);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=i.createElement("path",{d:"M.98 8.48a.37.37 0 1 0 .54.54l-.54-.54zm7.77-7.23h.38c0-.2-.17-.38-.38-.38v.38zM8.37 6.5a.37.37 0 1 0 .76 0h-.76zM3.5.87a.37.37 0 1 0 0 .76V.88zM1.52 9.03l7.5-7.5-.54-.54-7.5 7.5.54.54zm6.86-7.77V6.5h.74V1.25h-.74zm-4.88.38h5.25V.88H3.5v.74z",fill:"currentColor"});const g=function(e){return i.createElement("svg",v({width:10,height:10,viewBox:"0 0 10 10",fill:"none"},e),h)};var k=n(50458),E=n(62782);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={marginLeft:"8px"},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0 24px";return{padding:t,alignItems:"center",borderBottom:"solid 1px ".concat(e.baseColor.background.normal)}},w=function(e){return function(t){return b(b({},S(t,e?"0":void 0)),{},{display:{xs:"flex",sm:"flex",md:e?"none":"flex",lg:"none",xl:"none"},justifyContent:{xs:"space-between",sm:"space-between",md:"flex-end",lg:void 0,xl:void 0},height:"41px"})}},C=function(e){return function(){return{flex:e?"1":void 0,display:{xs:"flex",sm:"flex",md:"none",lg:"none",xl:"none"},alignItems:"center",justifyContent:e?"center":void 0,height:"100%"}}},N=function(e){var t=e.postId,n=e.collectionSlug,r=e.isMember,a=(0,d.I)(),l=(0,p.k6)().type,o=(0,f.v9)((function(e){return e.navigation.hostname})),v=(0,s.n)({name:"detail",color:"LIGHTER",scale:"S"}),h=(0,c.C)({postId:t,collectionSlug:n,collectionHostname:l===m.Cr.COLLECTION?o:null}),k=h.onClick,E=h.href;return i.createElement(u.r,{href:E,onClick:k,rules:[C(r),v],inheritBorder:!1},"Open in app",i.createElement(g,{className:a(x)}))},I=function(e){var t=e.loading,n=e.viewer,r=(0,d.I)(),a=(0,l.TH)(),c=(0,p.$B)(a.pathname),u=c?(0,k.mrd)(c):"",s=null==c?void 0:c.route.name,m=null==c?void 0:c.params.collectionSlug,f=!t&&!!n,v=f&&!!n.mediumMemberAt;return i.createElement("div",{className:r(w(v))},!t&&i.createElement(i.Fragment,null,i.createElement(N,{postId:u,collectionSlug:m,isMember:v}),!f&&i.createElement(E.B,{routeName:s}),f&&!v&&i.createElement(o.N,{size:"COMPACT",forceDesktop:!0})))}},29282:(e,t,n)=>{"use strict";n.d(t,{H:()=>wt,l:()=>Nt});var r=n(59713),a=n.n(r),i=n(67294),l=n(5977),o=n(25885),c=n(77355),u=n(93310),s=n(18634),d=n(14646),m=n(92661),p=n(63038),f=n.n(p),v=n(64718),h=n(30210),g=n(46232),k=n(38194),E=n(36405),y=n(14818),b=n(17193),x=n(73917),S=n(18627),w=n(66411),C=n(80087),N=n(87498),I=n(62805),O=n(68894),P=n(319),T=n.n(P),D=n(68216),M=n(43571),A={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AvatarMenu_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPartnerProgramEnrolled"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"Field",name:{kind:"Name",value:"email"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"Field",name:{kind:"Name",value:"adminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionMenuItem_collection"}}]}}]}}].concat(T()(D.$m.definitions),T()(M.X.definitions))},L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AvatarMenuQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AvatarMenu_user"}}]}}]}}].concat(T()(A.definitions))},j=n(52439),F=n(34135),R=n(76689);function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var V=i.createElement("circle",{cx:12,cy:12,r:10.5,stroke:"currentColor"}),_=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.08 6.17l-.14.99-.99 6.63-.03.25-.22.12-5.9 3.2-.88.47.14-1 .99-6.63.03-.24.22-.12 5.9-3.2.88-.47zm-6.16 4.98L9.2 16l4.3-2.34-3.58-2.51zm4.16 1.7l-3.59-2.52L14.8 8l-.72 4.84z",fill:"currentColor"});const B=function(e){return i.createElement("svg",H({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),V,_)};function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var q=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22a10 10 0 1 0 0-20 10 10 0 0 0 0 20zm3.94-14.84l.14-1-.88.48-5.9 3.2-.22.12-.03.24-.99 6.64-.14.99.88-.48 5.9-3.2.22-.11.03-.25.99-6.63zM9.2 16l.72-4.85 3.59 2.51L9.2 16zm1.3-5.67l3.58 2.51L14.8 8l-4.3 2.33z",fill:"currentColor"});const U=function(e){return i.createElement("svg",z({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),q)};var G=n(42533),Q=n(56653),Z=n(72602),W=n(45550),Y=n(85786),K=n(84219),X=n(39283),$=n(66904),J=n(42409);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=i.createElement("circle",{cx:12,cy:7,r:4.5,stroke:"currentColor",strokeWidth:1.75}),ne=i.createElement("path",{d:"M3.5 21.5v-4.34C3.5 15.4 7.3 14 12 14s8.5 1.41 8.5 3.16v4.34",stroke:"currentColor",strokeWidth:1.75,strokeLinecap:"round"});const re=function(e){return i.createElement("svg",ee({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),te,ne)};function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ie=i.createElement("circle",{cx:12,cy:7,r:4.5,stroke:"currentColor"}),le=i.createElement("path",{d:"M3.5 21.5v-4.34C3.5 15.4 7.3 14 12 14s8.5 1.41 8.5 3.16v4.34",stroke:"currentColor",strokeLinecap:"round"});const oe=function(e){return i.createElement("svg",ae({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),ie,le)};function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ue=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.1 11.06a6.95 6.95 0 1 1 13.9 0 6.95 6.95 0 0 1-13.9 0zm6.94-8.05a8.05 8.05 0 1 0 5.13 14.26l3.75 3.75a.56.56 0 1 0 .8-.79l-3.74-3.73A8.05 8.05 0 0 0 11.04 3v.01z",fill:"currentColor"});const se=function(e){return i.createElement("svg",ce({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),ue)};function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var me=i.createElement("path",{d:"M14.94 15.4l-2.22 6.1a.77.77 0 0 1-1.44 0l-2.22-6.1a.78.78 0 0 0-.46-.46l-6.1-2.22a.77.77 0 0 1 0-1.44l6.1-2.22a.77.77 0 0 0 .46-.46l2.22-6.1a.77.77 0 0 1 1.44 0l2.22 6.1a.78.78 0 0 0 .46.46l6.1 2.22a.77.77 0 0 1 0 1.44l-6.1 2.22a.78.78 0 0 0-.46.46v0z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"});const pe=function(e){return i.createElement("svg",de({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),me)};var fe=function(e){var t=e.routeName,n=e.isActive;switch(t){case"ShowHome":return n?i.createElement(U,{"aria-label":"Explore"}):i.createElement(B,{"aria-label":"Explore"});case"ShowNewPost":return i.createElement(J.Z,{"aria-label":"Write"});case"ShowPartnerDashboard":return i.createElement(pe,{"aria-label":"Partner Dashboard"});case"ShowSearch":return i.createElement(se,{"aria-label":"Search"});case"ShowStats":return n?i.createElement(K.Z,{"aria-label":"Stats"}):i.createElement(Y.Z,{"aria-label":"Stats"});case"ShowUser":return n?i.createElement(re,{"aria-label":"Profile"}):i.createElement(oe,{"aria-label":"Profile"});case"ShowYourLists":return n?i.createElement(W.Z,{"aria-label":"Lists"}):i.createElement(Z.Z,{"aria-label":"Lists"});case"ShowYourNotifications":return n?i.createElement(Q.Z,{"aria-label":"Notifications"}):i.createElement(G.Z,{"aria-label":"Notifications"});case"ShowYourStories":return n?i.createElement($.Z,{"aria-label":"Stories"}):i.createElement(X.Z,{"aria-label":"Stories"});default:return null}},ve=n(87691),he=function(e){var t=e.icon,n=e.text,r=e.isActive;return i.createElement(c.x,{display:"flex",alignItems:"center"},t,i.createElement(c.x,{marginLeft:"16px"},i.createElement(ve.F,{scale:"M",clamp:1,color:r?"DARKER":"LIGHTER"},n)))},ge=n(6479),ke=n.n(ge),Ee=n(26350),ye=n(14199),be=function(e,t){return function(n){return{padding:"".concat(t?8:6,"px 24px"),"&:hover":{color:n.baseColor.text.normal},"&:hover p":e?void 0:{color:n.baseColor.text.normal}}}},xe={width:"100%",border:"none",textAlign:"left"},Se=function(e){var t=e.children,n=e.staticDetailColor,r=e.withIcon,a=e.isActive,l=(0,d.I)(),o=(0,ye.n)({name:"detail",color:a?"DARKER":"LIGHTER",scale:"M"});return i.createElement("div",{className:l([o,be(n,r)])},t)},we=function(e){var t=e.href,n=e.onClick,r=e.isLoggedIn,a=e.susiEntry,l=ke()(e,["href","onClick","isLoggedIn","susiEntry"]);return!r&&a?i.createElement(Ee.R,{operation:"register",susiEntry:a,redirectTo:t},i.createElement(Se,l)):i.createElement(u.r,{href:t,onClick:n,rules:xe},i.createElement(Se,l))},Ce=function(e){var t=e.routeName,n=e.isActive,r=e.onClick,a=e.href,l=e.text,o=e.routeParams,c=void 0===o?{}:o,u=(0,m.H2)();return i.createElement(we,{href:null!=a?a:u(t,c),onClick:r,isActive:n,withIcon:!0},i.createElement(he,{icon:i.createElement(fe,{routeName:t,isActive:n}),text:l,isActive:n}))},Ne=function(e){var t=e.children,n=e.padding,r=void 0===n?"16px 0":n;return i.createElement(c.x,{padding:r,borderBottom:"BASE_LIGHTER"},t)},Ie=n(6402),Oe=n(43487),Pe=function(e){var t=e.viewer,n=(0,m.H2)(),r=(0,i.useState)(""),a=f()(r,2),l=a[0],o=a[1],u=(0,Oe.p9)((function(e){return e.session.xsrf})),s=n("AcctSignout",{xsrf:u}),d=(0,i.useCallback)((function(){o(s)}),[o,s]);return i.useEffect((function(){l&&window.location.assign(l)}),[l]),u||Ie.k.error({userId:t.id,mobile:!1},"No xsrf token found."),i.createElement(we,{onClick:d,staticDetailColor:!0},i.createElement(c.x,{marginBottom:"4px"},"Sign out"),i.createElement(ve.F,{scale:"S",clamp:1},t.email))},Te=n(20113),De="global_nav",Me=function(){return i.createElement(Ne,null,i.createElement(c.x,{padding:"16px 24px 8px",textAlign:"center"},i.createElement(Te.X6,{scale:"XS"},"Get started on Medium"),i.createElement(c.x,{paddingTop:"24px"},i.createElement(Ee.R,{operation:"register",susiEntry:De,isButton:!0,buttonSize:"SMALL",buttonStyle:"STRONG",buttonWidth:"100%"},"Sign up")),i.createElement(c.x,{marginTop:"16px"},i.createElement(Ee.R,{operation:"login",susiEntry:De,isButton:!0,buttonSize:"SMALL",buttonStyle:"SUBTLE",buttonWidth:"100%"},"Sign in"))))},Ae=n(93022),Le=n(84739);function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Fe=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.29 9c0 .41.15.77.44 1.06.3.3.65.44 1.06.44.41 0 .76-.15 1.06-.44.3-.3.44-.65.44-1.06 0-.41-.15-.76-.44-1.06a1.45 1.45 0 0 0-1.06-.44c-.41 0-.77.15-1.06.44-.3.3-.44.65-.44 1.06zM7.5 9c0 .41.15.77.44 1.06.3.3.65.44 1.06.44.42 0 .77-.15 1.06-.44.3-.3.44-.65.44-1.06 0-.41-.15-.76-.44-1.06A1.45 1.45 0 0 0 9 7.5c-.4 0-.77.15-1.06.44-.3.3-.44.65-.44 1.06zm4.2 0c0 .41.15.77.44 1.06.3.3.65.44 1.07.44.42 0 .77-.15 1.07-.44.29-.3.43-.65.43-1.06 0-.41-.15-.76-.43-1.06a1.45 1.45 0 0 0-1.07-.44c-.42 0-.78.15-1.07.44-.3.3-.44.65-.44 1.06z",fill:"currentColor"});const Re=function(e){return i.createElement("svg",je({width:18,height:18,viewBox:"0 0 18 18",fill:"none"},e),Fe)};var He=n(50458),Ve=function(e){var t,n=e.collection,r=(0,Oe.v9)((function(e){return e.navigation.currentLocation})),a=(0,Oe.v9)((function(e){return e.config.authDomain})),l=(0,He.WGd)(n,r,a),o=n.name||"";return i.createElement(we,{href:l,withIcon:!0},i.createElement(he,{icon:i.createElement(y.z,{miroId:(null===(t=n.avatar)||void 0===t?void 0:t.id)||N.gG,alt:o,diameter:24,freezeGifs:!0}),text:o}))},_e=function(e){return{margin:"8px 24px",height:"1px",width:"24px",backgroundColor:e.baseColor.border.lighter}},Be=function(){var e=(0,d.I)();return i.createElement("div",{className:e(_e)})},ze=function(e){var t=e.viewer,n=e.hide,r=(0,m.H2)(),a=!!t.mediumMemberAt,o=(0,Le.B)(t),u=t.adminCollections,d=r("ShowYourCollections",{}),p=(0,l.TH)(),f=(0,m.$B)(p.pathname),v=null==f?void 0:f.route.name,h=(0,i.useMemo)((function(){if("ShowUser"!==v)return!1;var e=window.location.href;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e===o}),[o,v]);return i.createElement(i.Fragment,null,a&&i.createElement(c.x,{margin:"4px 4px 0",borderRadius:"4px",backgroundColor:"BASE_LIGHT",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center"},i.createElement(c.x,{marginRight:"8px",display:"flex",alignItems:"center"},i.createElement(R.Z,{height:"12",width:"12"})),i.createElement(ve.F,{scale:"XS"},"Member since ",(0,Ae.Z)(t.mediumMemberAt,"LLL yyyy"))),i.createElement(Ne,{padding:a?"8px 0 16px":void 0},i.createElement(s.y,{xs:!0,sm:!0},i.createElement(Ce,{routeName:"ShowHome",text:"Explore",onClick:n,isActive:"ShowHome"===v}),i.createElement(Ce,{routeName:"ShowNewPost",onClick:n,text:"Write"}),i.createElement(Be,null)),i.createElement(Ce,{href:o,routeName:"ShowUser",text:"Profile",isActive:h,onClick:n}),i.createElement(Ce,{routeName:"ShowYourLists",onClick:n,text:"Lists",isActive:"ShowYourLists"===v}),i.createElement(Ce,{routeName:"ShowYourStories",routeParams:{filterBy:"drafts"},onClick:n,text:"Stories",isActive:"ShowYourStories"===v}),i.createElement(Ce,{routeName:"ShowStats",text:"Stats",isActive:"ShowStats"===v}),t.isPartnerProgramEnrolled&&i.createElement(Ce,{routeName:"ShowPartnerDashboard",text:"Partner Program",isActive:"ShowPartnerDashboard"===v}),u.length?i.createElement(i.Fragment,null,i.createElement(Be,null),u.slice(0,3).map((function(e){return i.createElement(Ve,{key:e.id,collection:e})})),u.length>3&&i.createElement(we,{href:d,withIcon:!0},i.createElement(he,{icon:i.createElement(c.x,{height:"24px",width:"24px",backgroundColor:"BASE_NORMAL",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},i.createElement(Re,null)),text:"See all publications"}))):null),i.createElement(Ne,{padding:"18px 0"},i.createElement(we,{href:r("ShowSettings",{})},"Settings"),i.createElement(we,{href:r("ShowFollowsIndex",{}),onClick:n},"Refine recommendations"),i.createElement(we,{href:d},"Manage publications")))},qe="global_nav",Ue=function(e){var t=e.viewer,n=e.showGiftPlans,r=e.hide,a=(0,m.H2)(),l=!(null==t||!t.mediumMemberAt),o=null==t?void 0:t.isPartnerProgramEnrolled;return(0,i.useEffect)((function(){return F.V6.on("scroll",r),function(){F.V6.off("scroll",r)}}),[]),i.createElement(c.x,{width:"264px"},t?i.createElement(ze,{viewer:t,hide:r}):i.createElement(i.Fragment,null,i.createElement(Me,null),i.createElement(s.y,{xs:!0,sm:!0},i.createElement(Ne,null,i.createElement(Ce,{routeName:"ShowHome",text:"Explore",onClick:r}),i.createElement(Ce,{routeName:"ShowNewPost",onClick:r,text:"Write"})))),(!l||!o||n)&&i.createElement(Ne,{padding:"18px 0"},!l&&i.createElement(we,{href:a("ShowPay",{}),susiEntry:qe,isLoggedIn:!!t},i.createElement(c.x,{display:"flex",justifyContent:"space-between",alignItems:"center"},"Become a member",i.createElement(R.Z,null))),!o&&i.createElement(we,{href:a("ShowEarnLanding",{}),susiEntry:qe,isLoggedIn:!!t},"Apply to the Partner Program"),n&&(t?i.createElement(we,{onClick:n},"Gift a membership"):i.createElement(we,{href:a("ShowGiftLanding",{})},"Gift a membership"))),t&&i.createElement(Ne,{padding:"18px 0"},i.createElement(Pe,{viewer:t})),i.createElement(s.y,{xs:!0,sm:!0,md:!0},i.createElement(j.q,{padding:"16px 24px",detailScale:"XS",spacing:"S",backgroundColor:"BASE_LIGHT"})))},Ge=function(e){return{border:"none",background:"transparent",padding:"0",display:"flex",alignItems:"center",cursor:"pointer","& svg":{marginLeft:"4px",fill:e.baseColor.text.lighter},":hover svg":{fill:e.baseColor.text.normal}}},Qe=function(e){return function(t){return{backgroundColor:t.backgroundColor,opacity:e?0:1,transition:"opacity ".concat(300,"ms")}}},Ze=function(e){var t=e.viewer,n=(0,d.I)(),r=(0,S.Av)(),a=(0,w.Lk)(),l=(0,O.O)(!1),o=f()(l,3),c=o[0],u=o[1],s=o[2],m=(0,i.useState)(!1),p=f()(m,2),P=p[0],T=p[1],D=(0,I.J)().timer,M=!!(0,E.P5)("disable_lite_gift_page"),A=(0,O.O)(!1),j=f()(A,3),F=j[0],R=j[1],H=j[2];(0,k.m)(g.Y,R);var V=(0,h.C)({launchpadMenuVisible:c}).preloaded,_=(0,v.a)(L,{ssr:!1}).data,B=null==_?void 0:_.viewer,z=(0,i.useCallback)((function(){T(!0),D((function(){s(),T(!1)}),300)}),[D,T,s]),q=(0,i.useCallback)((function(){return i.createElement(Ue,{viewer:B,showGiftPlans:M?void 0:R,hide:z})}),[B,z,M,R]),U=(0,i.useCallback)((function(){r.event("nav.avatarMenuOpened",{dimension:null==a?void 0:a.dimension}),u()}),[r,a,u]);return i.createElement(i.Fragment,null,i.createElement(x.J,{noPortal:!0,display:"block",isVisible:c,hide:z,targetDistance:8,horizontalTargetDistance:8,placement:"bottom-end",popoverRules:Qe(P),flip:!1,setMaxHeight:!0,popoverRenderFn:q,noArrow:!0,hideOnOutsideClick:!0,overflowPadding:16},i.createElement("button",{className:n(Ge),"aria-label":"user options menu",onClick:c?z:U},t?i.createElement(b.Yt,{user:t,scale:"XS",showStar:!0,starPosition:"top"}):i.createElement(y.z,{miroId:N.gG,diameter:32,alt:""}),i.createElement(C.Z,{height:"12px",width:"12px"}))),t&&!M&&(V||F)&&i.createElement(h.V,{viewer:t,isDialogVisible:F,hide:H}))},We=n(62685),Ye=n(97217),Ke=n(89636),Xe=function(e){return function(){return{opacity:e?0:1,transition:"opacity ".concat(300,"ms")}}},$e=function(e){var t=e.children,n=(0,O.O)(!0),r=f()(n,3),a=r[0],l=r[1],o=r[2],c=(0,i.useState)(!1),u=f()(c,2),s=u[0],d=u[1],m=(0,I.J)().timer,p=(0,Ke.v)().topNavigationHeight,v=(0,i.useCallback)((function(){a&&(d(!0),m((function(){o()}),300))}),[a,m,d,o]),h=(0,i.useCallback)((function(){!a&&p>=16&&(l(),m((function(){d(!1)}),100))}),[a,p,m,d,l]);return(0,i.useEffect)((function(){return F.V6.on("scroll_down",v),F.V6.on("scroll_up",h),function(){F.V6.off("scroll_down",v),F.V6.off("scroll_up",h)}}),[v,h]),i.createElement(We.o,{flag:Ye.T3.FIRST_USE_GLOBAL_NAV_TOOLTIP,text:"New: Navigate Medium from the top of the page, and focus more on reading as you scroll.",dismissText:"Okay, got it",targetDistance:15,isVisible:a,popoverRules:Xe(s)},t)},Je=n(67154),et=n.n(Je),tt=function(e){var t=e.height,n=void 0===t?"24px":t,r=e.width,a=void 0===r?{xs:"24px",sm:"24px",md:"64px",lg:"64px",xl:"64px"}:r,l=e.borderRadius,o=void 0===l?"4px":l,c=ke()(e,["height","width","borderRadius"]);return i.createElement(s.y,et()({marginLeft:"24px",height:n,width:a,backgroundColor:"BASE_LIGHT",borderRadius:o},c))},nt=function(){return i.createElement(i.Fragment,null,i.createElement(tt,{xs:!0,sm:!0,md:!0,lg:!0,xl:!0}),i.createElement(tt,{md:!0,lg:!0,xl:!0}),i.createElement(tt,{md:!0,lg:!0,xl:!0}),i.createElement(tt,{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,borderRadius:"50%",height:"32px",width:"32px"}))},rt=n(55601),at=n(35735),it=n(25550),lt=n(49608),ot=function(e){return function(t){var n=t.baseColor.text.normal,r=t.baseColor.fill.lighter;return{position:"relative",color:e?n:r,fill:e?n:r,display:"flex",alignItems:"center",":hover":{color:n,fill:n}}}},ct=function(e){var t=e.children,n=e.routeName,r=e.isActive,a=(0,d.I)(),l=(0,ye.n)({name:"detail",color:"DARKER",scale:"M"});return i.createElement("div",{className:a([l,ot(r)])},i.createElement(fe,{routeName:n,isActive:r}),t&&i.createElement(c.x,{marginLeft:"8px"},t),"ShowYourNotifications"===n&&i.createElement(at.o,{right:"-9px"}))},ut=function(e){var t=e.children,n=e.routeName,r=e.onClick,a=e.susiEntry,l=e.preloadOn,o=e.isActive,s=(0,m.qt)(n,{}),d=(0,it.r)().viewerId,p=d&&(0,lt.Q)(d);return i.createElement(c.x,{display:"flex",marginRight:"32px"},!p&&a?i.createElement(Ee.R,{operation:"register",susiEntry:a,redirectTo:s},i.createElement(ct,{children:t,routeName:n,isActive:o})):i.createElement(u.r,{href:s,onClick:r,EXPERIMENTAL_preloadOn:l},i.createElement(ct,{children:t,routeName:n,isActive:o})))},st=n(75374),dt=function(e){return{border:"none",width:"240px",background:e.baseColor.background.light,alignItems:"center","& path":{fill:e.baseColor.fill.lighter},":focus-within path":{fill:e.baseColor.text.normal}}},mt=function(e){var t=e.algoliaQueryContext,n=void 0===t?"homepage":t,r=e.algoliaIndexes,a=void 0===r?["user","collection","tag"]:r,l=ke()(e,["algoliaQueryContext","algoliaIndexes"]);return i.createElement(st.f,et()({algoliaQueryContext:n,algoliaIndexes:a},l,{searchPlaceholder:"Search Medium",searchIcon:i.createElement(c.x,{marginRight:"12px",marginLeft:"12px"},i.createElement(se,null)),searchContainerRules:dt,initializeQueryFromUrl:!0}))},pt=n(79263),ft={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PublicationSearchQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"domainOrSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"collection"},name:{kind:"Name",value:"collectionByDomainOrSlug"},arguments:[{kind:"Argument",name:{kind:"Name",value:"domainOrSlug"},value:{kind:"Variable",name:{kind:"Name",value:"domainOrSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SearchInline_publisher"}}]}}]}}].concat(T()(pt.l.definitions))},vt=function(e){var t,n=e.collectionSlug,r=(0,Oe.v9)((function(e){return e.navigation.hostname})),a=(0,v.a)(ft,{variables:{domainOrSlug:n||r}}).data;return i.createElement(mt,{algoliaIndexes:["post"],algoliaQueryContext:"publication-right-column",hitsPerPagePerIndex:{post:8},publisher:null!==(t=null==a?void 0:a.collection)&&void 0!==t?t:void 0})},ht=n(8458),gt=n(92305),kt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserSearchQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SearchInline_publisher"}}]}}]}}].concat(T()(pt.l.definitions))},Et=function(e){var t,n,r=e.params,a=void 0===r?{}:r,l=(0,ht.t)(a),o=l.id,c=l.username,u=(0,v.a)(kt,{variables:{id:o,username:c},skip:!o&&!c}).data;if("User"!==(null==u||null===(t=u.userResult)||void 0===t?void 0:t.__typename))return i.createElement(mt,null);if(a.catalogSlugId){var s=(0,gt.iS)(a.catalogSlugId);n=s?(0,gt.ro)({id:u.userResult.id},s):(0,gt.xp)(a.catalogSlugId)}return i.createElement(mt,{algoliaIndexes:["post"],algoliaQueryContext:"user-profile",publisher:null==u?void 0:u.userResult,hitsPerPagePerIndex:{post:8},catalogId:n})},yt=function(){var e,t,n=(0,l.TH)(),r=(0,m.$B)(n.pathname);if(null!=r&&null!==(e=r.params)&&void 0!==e&&e.postId)return i.createElement(mt,{algoliaIndexes:["post"],algoliaQueryContext:"post"});switch(null==r?void 0:r.route.name){case"ShowCollectionHome":case"ShowCollectionMasthead":case"ShowCollectionTagged":return i.createElement(vt,{collectionSlug:null==r||null===(t=r.params)||void 0===t?void 0:t.collectionSlug});case"ShowTagPosts":return i.createElement(mt,{algoliaQueryContext:"topics-right-column"});case"ShowUser":case"ShowUserAbout":case"ShowUserAwards":case"ShowUserList":case"ShowUserLists":return i.createElement(Et,{params:null==r?void 0:r.params});case"ShowYourNotifications":return i.createElement(mt,{algoliaQueryContext:"notifications"});case"ShowYourStories":return i.createElement(mt,{algoliaQueryContext:"your-stories"});default:return i.createElement(mt,null)}},bt=n(62782);function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=57,Ct=function(e){return St(St({},(0,rt.F)(e)),{},{display:"flex",height:"".concat(wt,"px")})},Nt=function(e){var t=e.loading,n=e.viewer,r=(0,d.I)(),a=(0,l.TH)(),p=(0,m.$B)(a.pathname),f=null==p?void 0:p.route.name,v="ShowHome"===f,h=(0,m.H2)(),g=(0,i.useCallback)((function(){v&&window.scrollTo(0,0)}),[v]);return i.createElement("div",{className:r(Ct)},i.createElement(c.x,{flexGrow:"1",display:"flex",alignItems:"center"},i.createElement($e,null,i.createElement(u.r,{href:h("ShowHome",{}),"aria-label":"Homepage",onClick:g},i.createElement(o.YR,null))),i.createElement(s.y,{sm:!0,md:!0,lg:!0,xl:!0,marginLeft:"16px"},i.createElement(yt,null))),t?i.createElement(nt,null):i.createElement(i.Fragment,null,i.createElement(s.y,{md:!0,lg:!0,xl:!0,displayValue:"flex"},i.createElement(ut,{routeName:"ShowHome",isActive:v,onClick:g},"Explore"),i.createElement(ut,{routeName:"ShowNewPost",susiEntry:"new_post_sidenav"},"Write")),i.createElement(s.y,{xs:!0},i.createElement(ut,{routeName:"ShowSearch"})),n?i.createElement(ut,{routeName:"ShowYourNotifications",preloadOn:"none",isActive:"ShowYourNotifications"===f}):i.createElement(s.y,{lg:!0,xl:!0,marginRight:"32px"},i.createElement(bt.B,{routeName:f})),i.createElement(Ze,{viewer:n})))}},35735:(e,t,n)=>{"use strict";n.d(t,{o:()=>d});var r=n(64718),a=n(67294),i=n(25550),l=n(49608),o=n(14199),c=n(14646),u=n(570),s=function(e,t){return function(n){return{position:"absolute",top:"-6px",left:e,right:t,borderRadius:"7px",minWidth:"14px",minHeight:"16px",color:n.accentColor.background,background:n.accentColor.fill.normal,textAlign:"center",display:"inline-block",padding:"0 4px",border:"solid 3px white"}}},d=function(e){var t,n=e.left,d=e.right,m=(0,c.I)(),p=(0,i.r)(),f=p.viewerId,v=p.loading,h=(0,r.a)(u.i,{ssr:!1,skip:v||!f||!(0,l.Q)(f)}).data,g=null==h||null===(t=h.notificationStatus)||void 0===t?void 0:t.unreadNotificationCount,k=(0,o.n)({name:"detail",color:"LIGHTER",scale:"XS"});return g?a.createElement("div",{className:m([k,s(n,d)])},g>99?"99+":g):null}},570:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UnreadNotificationCount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notificationStatus"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unreadNotificationCount"}}]}}]}}]}},62782:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var r=n(67294),a=n(77520),i=n(26350),l=n(77355),o=n(87691),c="global_nav",u=function(e){var t=e.routeName;return r.createElement(l.x,{display:"flex",alignItems:"center"},r.createElement(i.R,{operation:"register",pageSource:(0,a.x)(t,"register"),susiEntry:c,isButton:!0,buttonSize:{xs:"COMPACT",sm:"COMPACT",md:"COMPACT",lg:"SMALL",xl:"SMALL"},buttonStyle:"STRONG"},"Sign up"),r.createElement(l.x,{marginLeft:"16px"},r.createElement(o.F,{scale:{xs:"S",sm:"S",md:"S",lg:"M",xl:"M"},color:"LIGHTER"},r.createElement(i.R,{operation:"login",susiEntry:c,pageSource:(0,a.x)(t,"login")},"Sign In"))))}},62685:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,o:()=>S});var r,a=n(67154),i=n.n(a),l=n(63038),o=n.n(l),c=n(6479),u=n.n(c),s=n(21919),d=n(67294),m=n(98863),p=n(6443),f=n(81978),v=n(77355),h=n(93310),g=n(73917),k=n(87691),E=n(29746),y=n(18627),b=n(14646);!function(e){e.CTA="CTA",e.DISMISSED="DISMISSED"}(r||(r={}));var x=function(e){var t=e.children,n=e.flag,a=e.text,l=e.renderFn,c=e.viewer,m=e.padding,p=void 0===m?16:m,x=e.placement,S=e.darkTheme,w=e.dismissText,C=void 0===w?"Got it":w,N=e.onDismiss,I=e.preventParentClick,O=e.autoDismissFlag,P=u()(e,["children","flag","text","renderFn","viewer","padding","placement","darkTheme","dismissText","onDismiss","preventParentClick","autoDismissFlag"]),T=(0,y.Av)(),D=(0,d.useState)(!1),M=o()(D,2),A=M[0],L=M[1],j=(0,d.useRef)(!1),F=(0,s.D)(f.a,{variables:{userId:c.id,flag:n}}),R=o()(F,1)[0],H=(0,b.I)(),V=(0,d.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.DISMISSED;L(!1),R(),N&&N(),j.current=!0,T.event("user.dismissedPopover",{flag:n,action:e})}),[A,N]);(0,d.useEffect)((function(){return L(!0)}),[]),(0,d.useEffect)((function(){if(O)return function(){j.current||R()}}),[]);var _=(0,d.useCallback)((function(){return d.createElement(v.x,{minWidth:"200px",padding:(0,E.a)(p)},d.createElement(k.F,{scale:"S",color:"WHITE"},a),d.createElement(v.x,{marginTop:"8px"},d.createElement(k.F,{scale:"S",color:S?"WHITE":void 0},d.createElement(h.r,{onClick:function(e){I&&e.preventDefault(),V(r.DISMISSED)}},d.createElement("span",{className:H(g.u)},C)))))}),[V,p,a,I]);return d.createElement(g.J,i()({disablePortalOverlay:!0,hide:V,isVisible:A,popoverRenderFn:l?l(V):_,darkTheme:!0,placement:x},P),t)},S=function(e){var t=e.children,n=e.flag,r=e.isVisible,a=void 0===r||r,l=u()(e,["children","flag","isVisible"]),o=(0,m.f)().isWorkingPreview,c=(0,p.H)().value;return o||null!=c&&c.dismissableFlags.includes(n)||!c||!a?t:d.createElement(x,i()({flag:n,viewer:c},l),t)}},27460:(e,t,n)=>{"use strict";n.d(t,{tp:()=>k,xY:()=>I});var r,a=n(59713),i=n.n(a),l=n(12297),o=n.n(l),c=n(94301),u=n.n(c),s=n(67294),d=n(27517),m=n(6443),p=n(86994),f=n(3184),v=n(43487);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.User=1]="User",e[e.Author=2]="Author"}(r||(r={}));var k={numericFilters:"peopleType!=".concat(r.Author)},E={collection:"collections",post:"posts",user:"users",tag:"tags"},y="/1/indexes/*/queries",b="user",x="collection",S="post",w="numericFilters";function C(e,t){return"".concat(e,"-").concat(t)}var N={collections:{hits:[]},posts:{hits:[]},users:{hits:[]},tags:{hits:[]}};function I(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=s.useRef(""),i=r.filterForHighQuality,l=r.filters,c=r.publisher,h=r.catalogId,I=r.hitsPerPagePerIndex,O=(null==c?void 0:c.id)||null,P=(0,m.H)(),T=P.value,D=P.loading,M=(0,p.c)(),A=M.loading,L=M.isBot,j=D||A,F=(0,d.I0)(),R=(0,v.v9)((function(e){return e.config.algolia})),H=(0,v.v9)((function(e){var n;return null===(n=e.algolia.queries[t])||void 0===n?void 0:n.status})),V="https://".concat(R.appId).concat(R.host).concat(y),_=C(e,t),B=C(e,a.current),z=(0,v.b$)((function(e){var t;return null===(t=e.algolia.queries[B])||void 0===t?void 0:t.data})),q=(0,v.b$)((function(e){var t;return null===(t=e.algolia.queries[_])||void 0===t?void 0:t.data})),U=q||z||N;s.useEffect((function(){q&&(a.current=t)}),[t,q,a.current]);var G=s.useMemo((function(){return o()(Object.values(U).map((function(e){return e.hits.length})))}),[U]),Q=["web","inline"],Z=s.useMemo((function(){var e=n.map((function(e){var n=e===S&&h,r=g({query:t,hitsPerPage:I&&I[e]||3,numericFilters:"",clickAnalytics:!j&&!L,analyticsTags:n?Q.concat(["list"]):Q},l);return e===S&&(h?r.filters="_tags:'list_".concat(h,"'"):O&&(r.facetFilters="Collection"===(null==c?void 0:c.__typename)?"collectionId:".concat(O):"authorId:".concat(O))),"tag"===e?r[w]="postCount>=1":e===b&&i?r.filters="highQualityUser:true":e===x&&i?r.filters="isHighQualityCollection:true":e===S&&(r.attributesToRetrieve="title,postId,latestPublishedAt"),e===b&&(r[w]=k.numericFilters),{indexName:R.indexPrefix+e,params:Object.keys(r).map((function(e){return e+"="+r[e]})).join("&")}}));return JSON.stringify({requests:e})}),[R,j,L,t,T,i,l]),W=s.useCallback((function(e){var t=e.results,r={users:{hits:[]},collections:{hits:[]},tags:{hits:[]},posts:{hits:[]}};return n.forEach((function(e,n){var a,i;r[E[e]]={hits:(null===(a=t[n])||void 0===a?void 0:a.hits)||[],queryId:null===(i=t[n])||void 0===i?void 0:i.queryID}})),r}),[n]);return s.useEffect((function(){if(t&&!j&&"loading"!==H&&"error"!==H&&"success"!==H){var e={"X-Algolia-API-Key":R.apiKeySearch,"X-Algolia-Application-Id":R.appId};T&&(e["X-Algolia-UserToken"]=T.id),F((0,f.Zl)(_)),u()(V,{method:"POST",headers:e,body:Z}).then((function(e){return e.json()})).then((function(e){e.status>=400?F((0,f.TT)(_)):F((0,f.Yy)(_,W(e)))})).catch((function(){F((0,f.TT)(_))}))}}),[V,R,Z,T,j,t,H,W,_]),[U,G]}},71341:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(67294),a=n(5977),i=n(66411);function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.k6)(),n=(0,i.pK)(),l=r.useCallback((function(r){var a=new URLSearchParams;if(n&&a.set("source",n),e.queryParams)for(var i in e.queryParams)a.set(i,e.queryParams[i]);var l={pathname:r,search:a.toString()?"?".concat(a.toString()):"",hash:e.hash,state:e.state};e.replace?t.replace(l):t.push(l)}),[t,n,e.queryParams,e.hash,e.state]);return l}},26679:(e,t,n)=>{"use strict";n.d(t,{_:()=>I,KM:()=>N,DL:()=>O,Bm:()=>T,IB:()=>E,_u:()=>P,Ir:()=>C,VR:()=>w});var r=n(319),a=n.n(r),i=n(63038),l=n.n(i),o=n(59713),c=n.n(o),u=n(21919),s=n(67294),d=n(36405),m=n(75221),p=n(78285),f=n(28959),v=n(27460),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SearchClickEventMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"queryId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"indexName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AlgoliaIndexName"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"objectIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"positions"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchClickEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"queryId"},value:{kind:"Variable",name:{kind:"Name",value:"queryId"}}},{kind:"Argument",name:{kind:"Name",value:"indexName"},value:{kind:"Variable",name:{kind:"Name",value:"indexName"}}},{kind:"Argument",name:{kind:"Name",value:"objectIds"},value:{kind:"Variable",name:{kind:"Name",value:"objectIds"}}},{kind:"Argument",name:{kind:"Name",value:"positions"},value:{kind:"Variable",name:{kind:"Name",value:"positions"}}}]}]}}]};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E={users:"search_user",posts:"search_post",tags:"search_tag",publications:"search_publication",none:"search_post"},y={filters:"highQualityUser:true OR writtenByHighQulityUser:true"},b={filters:"writtenByHighQualityUser:true"},x=new f.Z("recent_searches"),S="queries";function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isRecommendations,n=e.canViewUnfiltered,r=void 0!==n&&n,a=!!(0,d.P5)("can_view_unfiltered_search"),i=!r&&!a,l=s.useMemo((function(){var e=["web"];return t&&e.push("recommendations"),{clickAnalytics:!0,analyticsTags:e}}),[t]),o=s.useMemo((function(){return k(k({},i?y:{}),v.tp)}),[i]),u=s.useMemo((function(){return i?b:{}}),[i]);return s.useMemo((function(){var e;return e={},c()(e,m.uw.COLLECTION,l),c()(e,m.uw.POST,k(k({},u),l)),c()(e,m.uw.USER,k(k({},o),l)),c()(e,m.uw.TAG,k({numericFilters:"postCount>=1"},l)),c()(e,m.uw.BOOK_EDITION,{}),e}),[l,u,o])}function C(e){var t=e.queryId,n=e.indexName,r=(0,u.D)(h),a=l()(r,1)[0];return s.useCallback((function(e,r){t&&e&&a({variables:{queryId:t,indexName:n,positions:[r+1],objectIds:[e]}})}),[a,t,n])}function N(){return x.get(S)||[]}function I(e){var t=N();if(e){var n=[e].concat(a()(t.filter((function(t){return t!==e}))));x.set(S,n.slice(0,10))}}function O(e){var t=N();x.set(S,t.filter((function(t){return e!==t})))}function P(e,t,n){var r=new URLSearchParams(t.location.search);e?r.set("q",e):r.delete("q");var a=r.toString();n((0,p.kO)(a)),t.push({search:a})}function T(e){var t=e.split("/"),n=t.indexOf("search"),r=n>-1?t[n+1]:null;return r?["users","tags","posts","publications"].includes(r)?r:null:"none"}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/9282.7a8de01a.chunk.js.map